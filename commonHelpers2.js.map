{"version":3,"file":"commonHelpers2.js","sources":["../src/shopping-list.js"],"sourcesContent":["import axios from \"axios\";\nconst buttonToHome = document.querySelector(\".home\");\nconst shopList = document.querySelector(\".shop-list\");\nconst amountCircle = document.querySelector(\".circle-amount\");\nconst listShop = document.querySelector(\".shop-list-bk\");\nconst boxForEmpty = document.querySelector(\".bx-shp\");\nlet arrayBook = JSON.parse(localStorage.getItem(\"id\"));\n\n\nif (buttonToHome.classList.contains(\"yellow-draw\")) {\n    buttonToHome.classList.remove(\"yellow-draw\");\n    shopList.classList.add(\"yellow-draw\");\n}\namountCircle.style.display = \"none\";\n\nasync function renderShop(books) {\n    let strRender = ``;\n    strRender += `<li class=\"option-list-bk\">\n                    <a data-rem=\"${books._id}\" class=\"circle-remove\" href=\"\"><svg data-rem=\"${books._id}\" width=\"18\" height=\"18\"><use href=\"./img/sprite.svg#remove\"></use></svg></a>\n                        <img class=\"img-bk\" alt=\"\" src=\"${books.book_image}\"/>\n                        <div class=\"text-cnt\">\n                            <p class=\"title-shp\">${books.title}</p>\n                            <p class=\"category-shp\">${books.list_name}</p>\n                            <p class=\"descr-shp\">${books.description}</p>\n                            <p class=\"author-shp\">${books.author}</p>\n                        <div>\n                        <ul class=\"list-lnk\">\n                            <li><a class=\"link\" href=\"${books.amazon_product_url}\" target=\"_blank\"><img class=\"icon-link\" srcset=\"./img/amazon.png 1x, ./img/amazon.@2x.png 2x\"/></a></li>\n                            <li><a class=\"link\" href=\"${books.buy_links[1].url}\" target=\"_blank\"><img class=\"icon-link\" srcset=\"./img/apple.png 1x, ./img/apple@2x.png 2x\"/></a></li>\n                        </ul>\n                    </li>`\n    listShop.insertAdjacentHTML(\"beforeend\", strRender);\n    /*remove*/ \n    const butRemoves = document.querySelectorAll(\".circle-remove\");\n\n    butRemoves.forEach(butRemove => {\n        butRemove.addEventListener(\"click\", (e) => {\n\n            arrayBook = arrayBook.filter(element => element !== e.target.dataset.rem);\n            localStorage.setItem(\"id\", JSON.stringify(arrayBook));\n            e.target.closest(\"li\").remove();\n        });\n    });\n     /*remove*/ \n}\n\nfor (let book in arrayBook) {\n    axios.get(`https://books-backend.p.goit.global/books/${arrayBook[book]}`)\n    .then(resolve => {\n        // if(arrayBook.length === 0) {\n        //     throw new Error (`This page is empty, add some books and proceed to order.`)\n        // }\n        renderShop(resolve.data);\n    })\n    .catch(error => console.log(error.message))\n}\n\n"],"names":["buttonToHome","shopList","amountCircle","listShop","arrayBook","renderShop","books","strRender","butRemove","e","element","book","axios","resolve","error"],"mappings":"6FACA,MAAMA,EAAe,SAAS,cAAc,OAAO,EAC7CC,EAAW,SAAS,cAAc,YAAY,EAC9CC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAW,SAAS,cAAc,eAAe,EACnC,SAAS,cAAc,SAAS,EACpD,IAAIC,EAAY,KAAK,MAAM,aAAa,QAAQ,IAAI,CAAC,EAGjDJ,EAAa,UAAU,SAAS,aAAa,IAC7CA,EAAa,UAAU,OAAO,aAAa,EAC3CC,EAAS,UAAU,IAAI,aAAa,GAExCC,EAAa,MAAM,QAAU,OAE7B,eAAeG,EAAWC,EAAO,CAC7B,IAAIC,EAAY,GAChBA,GAAa;AAAA,mCACkBD,EAAM,GAAG,kDAAkDA,EAAM,GAAG;AAAA,0DAC7CA,EAAM,UAAU;AAAA;AAAA,mDAEvBA,EAAM,KAAK;AAAA,sDACRA,EAAM,SAAS;AAAA,mDAClBA,EAAM,WAAW;AAAA,oDAChBA,EAAM,MAAM;AAAA;AAAA;AAAA,wDAGRA,EAAM,kBAAkB;AAAA,wDACxBA,EAAM,UAAU,CAAC,EAAE,GAAG;AAAA;AAAA,2BAG1EH,EAAS,mBAAmB,YAAaI,CAAS,EAE/B,SAAS,iBAAiB,gBAAgB,EAElD,QAAQC,GAAa,CAC5BA,EAAU,iBAAiB,QAAUC,GAAM,CAEvCL,EAAYA,EAAU,OAAOM,GAAWA,IAAYD,EAAE,OAAO,QAAQ,GAAG,EACxE,aAAa,QAAQ,KAAM,KAAK,UAAUL,CAAS,CAAC,EACpDK,EAAE,OAAO,QAAQ,IAAI,EAAE,OAAM,CACzC,CAAS,CACT,CAAK,CAEL,CAEA,QAASE,KAAQP,EACbQ,EAAM,IAAI,6CAA6CR,EAAUO,CAAI,CAAC,EAAE,EACvE,KAAKE,GAAW,CAIbR,EAAWQ,EAAQ,IAAI,CAC/B,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,EAAM,OAAO,CAAC"}